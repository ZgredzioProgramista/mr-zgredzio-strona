<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MR Zgredzio – gry i aktualności</title>
  <meta name="description" content="MR Zgredzio – oficjalna strona gier. Pobierz MR Block Breaker w Google Play." />
  <link rel="canonical" href="https://www.mr-zgredzio.pl/">

  <style>
    :root { --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#94a3b8; --accent:#22c55e; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,Segoe UI,Roboto,Inter,Arial;background:var(--bg);color:var(--text)}
    .wrap{max-width:960px;margin:0 auto;padding:24px}
    header{display:flex;justify-content:space-between;align-items:center;gap:16px}
    .card{background:var(--panel);border-radius:16px;padding:24px;margin-top:24px}
    .grid{display:grid;grid-template-columns:1fr;gap:24px}
    @media (min-width:900px){ .grid{grid-template-columns:1.2fr .8fr} }
    h1{margin:0 0 8px;font-size:clamp(28px,4vw,40px)}
    p{margin:0 0 12px;color:var(--muted)}

    .btn{
      display:inline-flex;align-items:center;gap:10px;
      background:#1f2937;border:1px solid #334155;
      color:var(--text);padding:12px 16px;border-radius:12px;
      text-decoration:none;font-weight:600
    }
    .btn:hover{border-color:#475569}
    .btn--combo .label{font-weight:700}
    .btn--combo .badge{height:34px;width:auto}

    .accent{color:var(--accent)}
    .qrcard{display:flex;flex-direction:column;align-items:center;gap:12px}
    footer{opacity:.7;margin:32px 0 8px;font-size:14px;text-align:center}

    .badge{max-width:200px;height:auto}
    .qr{background:#fff;padding:12px;border-radius:12px}

    /* --- G A L E R I A --- */
    .gallery{
      margin-top:14px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }
    @media (min-width:700px){ .gallery{ grid-template-columns: repeat(4, 1fr); } }

    .gallery a{
      display:block; position:relative; aspect-ratio:16/9;
      border-radius:12px; overflow:hidden;
      background:#0b1220; border:1px solid #334155;
    }
    .gallery img{
      width:100%; height:100%; object-fit:cover; transition:transform .2s ease;
    }
    .gallery a:hover img{ transform:scale(1.04); }

    /* --- L I G H T B O X --- */
    .lb{ position:fixed; inset:0; background:rgba(0,0,0,.8);
         display:flex; align-items:center; justify-content:center; z-index:1000; }
    .lb[hidden]{ display:none; }
    .lb img{ max-width:90vw; max-height:85vh; border-radius:12px;
             box-shadow:0 8px 40px rgba(0,0,0,.6); }

    .lb__btn{
      position:absolute; top:16px;
      background:#111827; border:1px solid #334155; color:#e5e7eb;
      border-radius:10px; padding:8px 12px; cursor:pointer;
    }
    .lb__close{ right:16px; }
    .lb__prev, .lb__next{
      top:50%; transform:translateY(-50%);
      font-size:26px; width:44px; height:44px; display:grid; place-items:center;
    }
    .lb__prev{ left:16px; } .lb__next{ right:16px; }
  </style>

  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>MR <span class="accent">Zgredzio</span></h1>
        <p>Oficjalna strona gier. Aktualności, linki i pobieranie.</p>
      </div>
    </header>

    <nav style="margin-top:12px;display:flex;gap:14px;flex-wrap:wrap">
      <a href="/" class="btn">Start</a>
      <a href="/o-projekcie.html" class="btn">O projekcie</a>
      <a href="/aktualnosci.html" class="btn">Aktualności</a>
      <a href="/polityka-prywatnosci.html" class="btn">Polityka prywatności</a>
      <a href="/kontakt.html" class="btn">Kontakt</a>
    </nav>

    <main class="card grid">
      <section>
        <h2>MR Block Breaker</h2>
        <p>Arkadówka typu brick breaker. Rozwalaj klocki, zbieraj bonusy i wskakuj na kolejne poziomy.</p>

        <!-- JEDEN przycisk: obrazek + tekst -->
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:12px">
          <a id="playLink" class="btn btn--combo" target="_blank" rel="noopener" aria-label="Otwórz w Google Play">
            <img src="img/google-play-badge.png" alt="Pobierz w Google Play" class="badge" loading="lazy">
            <span class="label">Otwórz w Google Play</span>
          </a>
        </div>

        <!-- M a ł a   g a l e r i a -->
        <div class="gallery" id="gallery">
          <a href="img/screens/s1.jpg"><img src="img/screens/s1.jpg" alt="Zrzut ekranu 1" loading="lazy"></a>
          <a href="img/screens/s2.jpg"><img src="img/screens/s2.jpg" alt="Zrzut ekranu 2" loading="lazy"></a>
          <a href="img/screens/s3.jpg"><img src="img/screens/s3.jpg" alt="Zrzut ekranu 3" loading="lazy"></a>
          <a href="img/screens/s4.jpg"><img src="img/screens/s4.jpg" alt="Zrzut ekranu 4" loading="lazy"></a>
          <a href="img/screens/s5.jpg"><img src="img/screens/s5.jpg" alt="Zrzut ekranu 5" loading="lazy"></a>
          <a href="img/screens/s6.jpg"><img src="img/screens/s6.jpg" alt="Zrzut ekranu 6" loading="lazy"></a>
          <!-- (opcjonalnie) dodaj kolejne: s7.jpg, s8.jpg -->
        </div>
      </section>

      <aside class="qrcard">
        <div id="qrcode" class="qr"></div>
        <div style="font-size:14px;color:var(--muted)">Zeskanuj, by pobrać grę na telefon</div>
      </aside>
    </main>

    <section class="card">
      <h3>Nowości i plany</h3>
      <p>To dopiero początek. Wkrótce dodam blog z aktualnościami, changelogiem i zapowiedziami kolejnych gier.</p>
    </section>

    <footer>© <span id="year"></span> MR Zgredzio • <a class="accent" href="/app-ads.txt">app-ads.txt</a></footer>
  </div>

  <!-- L i g h t b o x -->
  <div id="lightbox" class="lb" hidden aria-hidden="true">
    <button class="lb__btn lb__close" aria-label="Zamknij">×</button>
    <button class="lb__btn lb__prev"  aria-label="Poprzednie">‹</button>
    <img alt="">
    <button class="lb__btn lb__next"  aria-label="Następne">›</button>
  </div>

  <script>
    // Link do Google Play:
    const playUrl = "https://play.google.com/store/apps/details?id=com.mrzgredzio.mrblockbreaker";
    // const playUrl = "https://play.google.com/apps/testing/com.mrzgredzio.mrblockbreaker"; // wersja testowa – tylko tymczasowo

    // Ustaw href dla przycisku
    document.getElementById('playLink').href = playUrl;

    document.addEventListener('DOMContentLoaded', () => {
      // QR + rok w stopce
      new QRCode(document.getElementById("qrcode"), {
        text: playUrl, width: 240, height: 240, correctLevel: QRCode.CorrectLevel.M
      });
      document.getElementById('year').textContent = new Date().getFullYear();

      // --- G A L E R I A  +  L I G H T B O X ---
      const thumbs = Array.from(document.querySelectorAll('#gallery a'));
      const lb = document.getElementById('lightbox');
      const lbImg = lb.querySelector('img');
      const btnClose = lb.querySelector('.lb__close');
      const btnPrev  = lb.querySelector('.lb__prev');
      const btnNext  = lb.querySelector('.lb__next');

      let idx = 0;

      function show(i){
        idx = (i + thumbs.length) % thumbs.length;
        lbImg.src = thumbs[idx].getAttribute('href');
        lb.removeAttribute('hidden');
        lb.setAttribute('aria-hidden','false');
      }
      function hide(){
        lb.setAttribute('hidden','');
        lb.setAttribute('aria-hidden','true');
        lbImg.src = '';
      }

      thumbs.forEach((a, i) => {
        a.addEventListener('click', (e) => {
          e.preventDefault();
          show(i);
        });
      });

      btnClose.addEventListener('click', hide);
      btnPrev .addEventListener('click', () => show(idx - 1));
      btnNext .addEventListener('click', () => show(idx + 1));

      // zamknięcie kliknięciem w tło
      lb.addEventListener('click', (e) => { if (e.target === lb) hide(); });

      // klawiatura: ESC i strzałki
      document.addEventListener('keydown', (e) => {
        if (lb.hasAttribute('hidden')) return;
        if (e.key === 'Escape') hide();
        if (e.key === 'ArrowLeft')  show(idx - 1);
        if (e.key === 'ArrowRight') show(idx + 1);
      });
    });
  </script>
</body>
</html>
